<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ROI Calculator - Stop Buying Leads, Start Generating Them</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;

    function ROICalculator() {
      const [monthlySpend, setMonthlySpend] = useState('');
      const [appointments, setAppointments] = useState('');
      const [closeRate, setCloseRate] = useState('35');
      const [avgJobValue, setAvgJobValue] = useState('18000');
      const [results, setResults] = useState(null);
      const [errors, setErrors] = useState({});

      const AGENT_HOURLY_RATE = 8;
      const APPTS_PER_AGENT_PER_DAY = 2;
      const WORKING_DAYS_PER_MONTH = 20;
      const HOURS_PER_DAY = 8;
      const MONTHLY_DATA_COST = 1000;
      const MIN_AGENTS = 2;

      const formatCurrency = (value) => {
        const num = parseFloat(value);
        if (isNaN(num)) return '$0';
        return '$' + num.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
      };

      const formatNumber = (value) => {
        return value.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
      };

      const formatPercent = (value) => {
        return value.toFixed(0) + '%';
      };

      const handleMonthlySpendChange = (e) => {
        let value = e.target.value.replace(/[^0-9]/g, '');
        setMonthlySpend(value);
        if (errors.monthlySpend) setErrors({ ...errors, monthlySpend: null });
      };

      const handleAppointmentsChange = (e) => {
        let value = e.target.value.replace(/[^0-9]/g, '');
        setAppointments(value);
        if (errors.appointments) setErrors({ ...errors, appointments: null });
      };

      const handleCloseRateChange = (e) => {
        let value = e.target.value.replace(/[^0-9]/g, '');
        if (value && parseInt(value) > 100) value = '100';
        setCloseRate(value);
        if (errors.closeRate) setErrors({ ...errors, closeRate: null });
      };

      const handleAvgJobValueChange = (e) => {
        let value = e.target.value.replace(/[^0-9]/g, '');
        setAvgJobValue(value);
        if (errors.avgJobValue) setErrors({ ...errors, avgJobValue: null });
      };

      const validate = () => {
        const newErrors = {};
        const spend = parseFloat(monthlySpend);
        const appts = parseFloat(appointments);
        const close = parseFloat(closeRate);
        const jobVal = parseFloat(avgJobValue);

        if (!monthlySpend || spend <= 0) {
          newErrors.monthlySpend = 'Please enter a valid amount greater than $0';
        }
        if (!appointments || appts <= 0) {
          newErrors.appointments = 'Please enter a valid number greater than 0';
        }
        if (!closeRate || close <= 0 || close > 100) {
          newErrors.closeRate = 'Please enter a percentage between 1-100';
        }
        if (!avgJobValue || jobVal <= 0) {
          newErrors.avgJobValue = 'Please enter a valid job value greater than $0';
        }

        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
      };

      const calculate = () => {
        if (!validate()) return;

        const currentSpend = parseFloat(monthlySpend);
        const currentAppts = parseFloat(appointments);
        const close = parseFloat(closeRate) / 100;
        const jobVal = parseFloat(avgJobValue);

        const currentCostPerAppt = currentSpend / currentAppts;
        const currentRevenue = currentAppts * close * jobVal;
        const currentProfit = currentRevenue - currentSpend;
        const currentROI = (currentProfit / currentSpend) * 100;

        const agentsNeeded = MIN_AGENTS;
        const infraApptsGenerated = agentsNeeded * APPTS_PER_AGENT_PER_DAY * WORKING_DAYS_PER_MONTH;
        const agentCost = agentsNeeded * (HOURS_PER_DAY * WORKING_DAYS_PER_MONTH * AGENT_HOURLY_RATE);
        const infraMonthlyCost = agentCost + MONTHLY_DATA_COST;
        const infraCostPerAppt = infraMonthlyCost / infraApptsGenerated;
        const infraRevenue = infraApptsGenerated * close * jobVal;
        const infraProfit = infraRevenue - infraMonthlyCost;
        const infraROI = (infraProfit / infraMonthlyCost) * 100;

        const appointmentIncrease = infraApptsGenerated - currentAppts;
        const revenueIncrease = infraRevenue - currentRevenue;
        const profitIncrease = infraProfit - currentProfit;
        const costChange = infraMonthlyCost - currentSpend;
        const roiImprovement = infraROI - currentROI;

        setResults({
          currentSpend,
          currentAppts,
          currentCostPerAppt,
          currentRevenue,
          currentProfit,
          currentROI,
          agentsNeeded,
          infraApptsGenerated,
          agentCost,
          infraMonthlyCost,
          infraCostPerAppt,
          infraRevenue,
          infraProfit,
          infraROI,
          appointmentIncrease,
          revenueIncrease,
          profitIncrease,
          costChange,
          roiImprovement,
          close: close * 100,
          jobVal
        });

        setTimeout(() => {
          document.getElementById('results')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      };

      const reset = () => {
        setMonthlySpend('');
        setAppointments('');
        setCloseRate('35');
        setAvgJobValue('18000');
        setResults(null);
        setErrors({});
        window.scrollTo({ top: 0, behavior: 'smooth' });
      };

      const isValid = monthlySpend && parseFloat(monthlySpend) > 0 && 
                      appointments && parseFloat(appointments) > 0 &&
                      closeRate && parseFloat(closeRate) > 0 && parseFloat(closeRate) <= 100 &&
                      avgJobValue && parseFloat(avgJobValue) > 0;

      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8 px-4">
          <div className="max-w-4xl mx-auto">
            
            <div className="text-center mb-8">
              <h1 className="text-4xl font-bold text-blue-900 mb-3">
                Stop Buying Leads. Start Generating Them.
              </h1>
              <p className="text-lg text-gray-600">
                See how owned infrastructure compares to buying leads from HomeAdvisor & Angi
              </p>
            </div>

            <div className="bg-white rounded-xl shadow-lg p-8 mb-8">
              <h2 className="text-xl font-bold text-gray-800 mb-4">Your Current Numbers</h2>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                
                <div>
                  <label className="block text-lg font-semibold text-gray-800 mb-2">
                    Monthly Lead Spend
                  </label>
                  <div className="relative">
                    <span className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-lg">$</span>
                    <input
                      type="text"
                      value={monthlySpend ? formatNumber(monthlySpend) : ''}
                      onChange={handleMonthlySpendChange}
                      placeholder="5,000"
                      className={`w-full pl-8 pr-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${
                        errors.monthlySpend ? 'border-red-500' : 'border-gray-300'
                      }`}
                    />
                  </div>
                  <p className="text-sm text-gray-500 mt-1">
                    What you spend on HomeAdvisor, Angi, etc.
                  </p>
                  {errors.monthlySpend && (
                    <p className="text-sm text-red-500 mt-1">{errors.monthlySpend}</p>
                  )}
                </div>

                <div>
                  <label className="block text-lg font-semibold text-gray-800 mb-2">
                    Qualified Appointments/Month
                  </label>
                  <input
                    type="text"
                    value={appointments}
                    onChange={handleAppointmentsChange}
                    placeholder="20"
                    className={`w-full px-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${
                      errors.appointments ? 'border-red-500' : 'border-gray-300'
                    }`}
                  />
                  <p className="text-sm text-gray-500 mt-1">
                    Appointments that show up for estimates
                  </p>
                  {errors.appointments && (
                    <p className="text-sm text-red-500 mt-1">{errors.appointments}</p>
                  )}
                </div>

                <div>
                  <label className="block text-lg font-semibold text-gray-800 mb-2">
                    Close Rate
                  </label>
                  <div className="relative">
                    <input
                      type="text"
                      value={closeRate}
                      onChange={handleCloseRateChange}
                      placeholder="35"
                      className={`w-full px-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${
                        errors.closeRate ? 'border-red-500' : 'border-gray-300'
                      }`}
                    />
                    <span className="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-lg">%</span>
                  </div>
                  <p className="text-sm text-gray-500 mt-1">
                    % of appointments that become jobs
                  </p>
                  {errors.closeRate && (
                    <p className="text-sm text-red-500 mt-1">{errors.closeRate}</p>
                  )}
                </div>

                <div>
                  <label className="block text-lg font-semibold text-gray-800 mb-2">
                    Average Job Value
                  </label>
                  <div className="relative">
                    <span className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-lg">$</span>
                    <input
                      type="text"
                      value={avgJobValue ? formatNumber(avgJobValue) : ''}
                      onChange={handleAvgJobValueChange}
                      placeholder="18,000"
                      className={`w-full pl-8 pr-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${
                        errors.avgJobValue ? 'border-red-500' : 'border-gray-300'
                      }`}
                    />
                  </div>
                  <p className="text-sm text-gray-500 mt-1">
                    Average revenue per closed job
                  </p>
                  {errors.avgJobValue && (
                    <p className="text-sm text-red-500 mt-1">{errors.avgJobValue}</p>
                  )}
                </div>

              </div>

              <button
                onClick={calculate}
                disabled={!isValid}
                className={`w-full mt-6 py-4 rounded-lg text-xl font-bold transition-all ${
                  isValid
                    ? 'bg-orange-500 text-white hover:bg-orange-600 hover:shadow-lg transform hover:-translate-y-0.5'
                    : 'bg-gray-300 text-gray-600 cursor-not-allowed'
                }`}
              >
                Show Me The Numbers
              </button>
            </div>

            {results && (
              <div id="results" className="space-y-6">
                
                <div className="bg-gradient-to-br from-green-50 to-teal-50 rounded-xl shadow-lg p-8 border-2 border-green-200">
                  <h2 className="text-3xl font-bold text-gray-800 mb-6 text-center">
                    Here's What Changes
                  </h2>
                  
                  <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div className="text-center p-6 bg-white rounded-lg shadow">
                      <p className="text-sm text-gray-600 font-semibold mb-1">MORE APPOINTMENTS</p>
                      <p className="text-5xl font-bold text-green-600">
                        +{formatNumber(results.appointmentIncrease)}
                      </p>
                      <p className="text-sm text-gray-600 mt-2">
                        {formatNumber(results.currentAppts)} → {formatNumber(results.infraApptsGenerated)} per month
                      </p>
                    </div>
                    
                    <div className="text-center p-6 bg-white rounded-lg shadow">
                      <p className="text-sm text-gray-600 font-semibold mb-1">MORE REVENUE</p>
                      <p className="text-5xl font-bold text-green-600">
                        +{formatCurrency(results.revenueIncrease)}
                      </p>
                      <p className="text-sm text-gray-600 mt-2">per month</p>
                    </div>
                    
                    <div className="text-center p-6 bg-white rounded-lg shadow">
                      <p className="text-sm text-gray-600 font-semibold mb-1">MORE PROFIT</p>
                      <p className="text-5xl font-bold text-green-600">
                        +{formatCurrency(results.profitIncrease)}
                      </p>
                      <p className="text-sm text-gray-600 mt-2">per month</p>
                    </div>
                  </div>

                  <div className="mt-6 bg-white rounded-lg p-6 shadow text-center">
                    <p className="text-2xl font-bold text-gray-800 mb-2">
                      Your ROI goes from <span className="text-red-600">{formatPercent(results.currentROI)}</span> to <span className="text-green-600">{formatPercent(results.infraROI)}</span>
                    </p>
                    <p className="text-lg text-gray-600">
                      That's a <span className="font-bold text-green-600">+{formatPercent(results.roiImprovement)}</span> improvement
                    </p>
                  </div>
                </div>

                <div className="bg-white rounded-xl shadow-lg p-8">
                  <h2 className="text-2xl font-bold text-blue-900 mb-6 text-center">
                    Side-by-Side Comparison
                  </h2>
                  
                  <div className="overflow-x-auto">
                    <table className="w-full">
                      <thead>
                        <tr className="border-b-2 border-gray-300">
                          <th className="py-3 px-4 text-left font-bold text-gray-700"></th>
                          <th className="py-3 px-4 text-center font-bold text-red-700">BUYING LEADS</th>
                          <th className="py-3 px-4 text-center font-bold text-blue-700">OWNED INFRASTRUCTURE</th>
                        </tr>
                      </thead>
                      <tbody className="divide-y divide-gray-200">
                        <tr>
                          <td className="py-3 px-4 font-semibold text-gray-700">Appointments/Month</td>
                          <td className="py-3 px-4 text-center font-bold text-red-700">{formatNumber(results.currentAppts)}</td>
                          <td className="py-3 px-4 text-center font-bold text-green-700">{formatNumber(results.infraApptsGenerated)}</td>
                        </tr>
                        <tr>
                          <td className="py-3 px-4 font-semibold text-gray-700">Cost Per Appointment</td>
                          <td className="py-3 px-4 text-center font-bold text-red-700">{formatCurrency(results.currentCostPerAppt)}</td>
                          <td className="py-3 px-4 text-center font-bold text-green-700">{formatCurrency(results.infraCostPerAppt)}</td>
                        </tr>
                        <tr>
                          <td className="py-3 px-4 font-semibold text-gray-700">Monthly Cost</td>
                          <td className="py-3 px-4 text-center font-bold text-red-700">{formatCurrency(results.currentSpend)}</td>
                          <td className="py-3 px-4 text-center font-bold text-blue-700">{formatCurrency(results.infraMonthlyCost)}</td>
                        </tr>
                        <tr>
                          <td className="py-3 px-4 font-semibold text-gray-700">Monthly Revenue</td>
                          <td className="py-3 px-4 text-center font-bold text-red-700">{formatCurrency(results.currentRevenue)}</td>
                          <td className="py-3 px-4 text-center font-bold text-green-700">{formatCurrency(results.infraRevenue)}</td>
                        </tr>
                        <tr>
                          <td className="py-3 px-4 font-semibold text-gray-700">Monthly Profit</td>
                          <td className="py-3 px-4 text-center font-bold text-red-700">{formatCurrency(results.currentProfit)}</td>
                          <td className="py-3 px-4 text-center font-bold text-green-700">{formatCurrency(results.infraProfit)}</td>
                        </tr>
                        <tr className="bg-green-50">
                          <td className="py-3 px-4 font-bold text-gray-800 text-lg">ROI</td>
                          <td className="py-3 px-4 text-center font-bold text-red-700 text-xl">{formatPercent(results.currentROI)}</td>
                          <td className="py-3 px-4 text-center font-bold text-green-700 text-xl">{formatPercent(results.infraROI)}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div className="bg-blue-50 rounded-xl p-6 border-2 border-blue-200">
                  <h3 className="text-xl font-bold text-blue-900 mb-4">How Infrastructure Works</h3>
                  
                  <div className="bg-white rounded-lg p-5 mb-4">
                    <h4 className="font-bold text-gray-800 mb-3">Cost Breakdown:</h4>
                    <div className="space-y-2 text-gray-700">
                      <div className="flex justify-between">
                        <span>{results.agentsNeeded} dedicated agents ({results.agentsNeeded} × 160 hrs × $8/hr):</span>
                        <span className="font-bold">{formatCurrency(results.agentCost)}</span>
                      </div>
                      <div className="flex justify-between">
                        <span>Data & systems:</span>
                        <span className="font-bold">{formatCurrency(MONTHLY_DATA_COST)}</span>
                      </div>
                      <div className="flex justify-between pt-2 border-t-2 border-blue-200">
                        <span className="font-bold">Total monthly cost:</span>
                        <span className="font-bold text-blue-900">{formatCurrency(results.infraMonthlyCost)}</span>
                      </div>
                    </div>
                  </div>

                  <div className="bg-white rounded-lg p-5">
                    <h4 className="font-bold text-gray-800 mb-3">Appointment Generation:</h4>
                    <div className="space-y-2 text-gray-700">
                      <div className="flex justify-between">
                        <span>{results.agentsNeeded} agents × 2 appointments/day:</span>
                        <span className="font-bold">{formatNumber(results.agentsNeeded * 2)} per day</span>
                      </div>
                      <div className="flex justify-between">
                        <span>× 20 working days:</span>
                        <span className="font-bold text-blue-900">{formatNumber(results.infraApptsGenerated)} appointments/month</span>
                      </div>
                      <div className="flex justify-between pt-2 border-t-2 border-blue-200">
                        <span className="font-bold">Cost per appointment:</span>
                        <span className="font-bold text-blue-900">{formatCurrency(results.infraCostPerAppt)}</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="bg-white rounded-xl p-8 shadow-lg text-center">
                  <h2 className="text-2xl font-bold text-blue-900 mb-6">Ready to Stop Renting Leads?</h2>
                  <div className="flex flex-col sm:flex-row gap-4 justify-center mb-6">
                    <a href="https://localheroos.com/case-study1" target="_blank" rel="noopener noreferrer" className="px-8 py-4 bg-white border-2 border-blue-900 text-blue-900 rounded-lg font-bold text-lg hover:bg-gray-50 transition-all inline-block">
                      Download Case Study
                    </a>
                    <a href="https://localheroos.com/contactos-231541#section-vofW-boYZ9" target="_blank" rel="noopener noreferrer" className="px-8 py-4 bg-orange-500 text-white rounded-lg font-bold text-lg hover:bg-orange-600 hover:shadow-lg transition-all inline-block">
                      Book Strategy Call
                    </a>
                  </div>
                </div>

                <div className="text-center pt-4">
                  <button
                    onClick={reset}
                    className="px-8 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-all"
                  >
                    Calculate Different Scenario
                  </button>
                </div>

              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<ROICalculator />, document.getElementById('root'));
  </script>
</body>
</html>
